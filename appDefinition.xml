<appDefinition>
   <id>AccCreation</id>
   <version></version>
   <name>Account Creation App</name>
   <packageDefinitionList>
      <packageDefinition>
         <appId>AccCreation</appId>
         <id>AccCreation</id>
         <name>Account Creation App</name>
         <packageActivityFormMap>
            <entry>
               <string>signup::Approve</string>
               <packageActivityForm>
                  <processDefId>signup</processDefId>
                  <activityDefId>Approve</activityDefId>
                  <formId>SignupUserApprove</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>signup::runProcess</string>
               <packageActivityForm>
                  <processDefId>signup</processDefId>
                  <activityDefId>runProcess</activityDefId>
                  <formId>accCreation</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
         </packageActivityFormMap>
         <packageActivityPluginMap>
            <entry>
               <string>signup::assignUserGroup</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>assignUserGroup</activityDefId>
                  <pluginName>org.joget.apps.app.lib.MultiTools</pluginName>
                  <pluginProperties>{&quot;runInMultiThread&quot;:&quot;&quot;,&quot;query&quot;:&quot;INSERT dir_user_group SET\r\nuserId = &apos;#form.account_signup.username#&apos;,\r\ngroupId = &apos;gor_svc_ppi&apos;;&quot;,&quot;comment&quot;:&quot;&quot;,&quot;jdbcDatasource&quot;:&quot;default&quot;,&quot;tools&quot;:[{&quot;className&quot;:&quot;org.joget.apps.app.lib.DatabaseUpdateTool&quot;,&quot;properties&quot;:{&quot;query&quot;:&quot;INSERT dir_user_group SET\r\nuserId = &apos;#form.account_signup.username#&apos;,\r\ngroupId = &apos;#variable.group#&apos;;&quot;,&quot;jdbcDatasource&quot;:&quot;default&quot;}}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::CreateUserRoleRecord</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>CreateUserRoleRecord</activityDefId>
                  <pluginName>org.joget.apps.app.lib.DatabaseUpdateTool</pluginName>
                  <pluginProperties>{&quot;jdbcDatasource&quot;:&quot;default&quot;,&quot;query&quot;:&quot;INSERT dir_user_role SET\r\nuserId = &apos;#form.account_signup.username#&apos;,\r\nroleId = &apos;ROLE_USER&apos;;&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::extractGroup</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>extractGroup</activityDefId>
                  <pluginName>org.joget.apps.app.lib.MultiTools</pluginName>
                  <pluginProperties>{&quot;runInMultiThread&quot;:&quot;&quot;,&quot;comment&quot;:&quot;&quot;,&quot;tools&quot;:[{&quot;className&quot;:&quot;org.joget.apps.app.lib.BeanShellTool&quot;,&quot;properties&quot;:{&quot;script&quot;:&quot;import org.joget.commons.util.LogUtil;\nimport org.joget.workflow.model.service.*;\n\n\nString groupsRequested = \&quot;#form.account_signup.groupsRequested#\&quot;;\n\nString[] groupsRequestedArray = groupsRequested.split(\&quot;;\&quot;);\n\nint groupCounter = Integer.valueOf(\&quot;#variable.groupCounter#\&quot;);\n\nLogUtil.info(\&quot;Value of groupCounter             : \&quot;, \&quot;\&quot; + groupCounter);\nLogUtil.info(\&quot;Value of groupsRequestedArray     : \&quot;, Arrays.toString(groupsRequestedArray));\nLogUtil.info(\&quot;Value of workflowAssignment       : \&quot;, workflowAssignment.toString());\n\nString group = groupsRequestedArray[groupCounter++];\n\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\nwm.activityVariable(workflowAssignment.getActivityId(),\&quot;group\&quot;, group);\nwm.activityVariable(workflowAssignment.getActivityId(),\&quot;groupCounter\&quot;, String.valueOf(groupCounter));\n\nLogUtil.info(\&quot;Value of groupCounter             : \&quot;, \&quot;\&quot; + groupCounter);\nLogUtil.info(\&quot;Value of group                    : \&quot;, \&quot;\&quot; + group);\n&quot;}}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::CreateUserRecord</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>CreateUserRecord</activityDefId>
                  <pluginName>org.joget.apps.app.lib.DatabaseUpdateTool</pluginName>
                  <pluginProperties>{&quot;jdbcDatasource&quot;:&quot;default&quot;,&quot;query&quot;:&quot;INSERT dir_user SET\r\nactive = &apos;1&apos;,\r\nemail = &apos;#form.account_signup.email#&apos;,\r\nfirstName = &apos;#form.account_signup.firstName#&apos;,\r\nid = &apos;#form.account_signup.username#&apos;,\r\nlastName = &apos;#form.account_signup.lastName#&apos;,\r\npassword = MD5(&apos;#form.account_signup.password#&apos;),\r\ntimeZone = &apos;#form.account_signup.timeZone#&apos;,\r\nusername = &apos;#form.account_signup.username#&apos;;&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::loopOverGroupsZero</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>loopOverGroupsZero</activityDefId>
                  <pluginName>org.joget.apps.app.lib.MultiTools</pluginName>
                  <pluginProperties>{&quot;runInMultiThread&quot;:&quot;&quot;,&quot;comment&quot;:&quot;&quot;,&quot;tools&quot;:[{&quot;className&quot;:&quot;org.joget.tutorial.WorkflowVariableUpdateTool&quot;,&quot;properties&quot;:{&quot;workflowVarMapping&quot;:[{&quot;variable&quot;:&quot;groupCounter&quot;,&quot;changeValueTo&quot;:&quot;0&quot;}]}}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::tool7</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>tool7</activityDefId>
                  <pluginName>org.joget.apps.app.lib.MultiTools</pluginName>
                  <pluginProperties>{&quot;runInMultiThread&quot;:&quot;&quot;,&quot;comment&quot;:&quot;&quot;,&quot;tools&quot;:[{&quot;className&quot;:&quot;org.joget.apps.app.lib.BeanShellTool&quot;,&quot;properties&quot;:{&quot;script&quot;:&quot;import org.joget.commons.util.LogUtil;\nimport org.joget.workflow.model.service.*;\n\n\n\n//Transition Name to go to\nString transitionNoGroupUpdate = \&quot;noGroupUpdate\&quot;;\nString transitionGroupUpdate = \&quot;groupUpdate\&quot;;\nString groupsRequested = \&quot;#form.account_signup.groupsRequested#\&quot;;\nint groupsRequestedArraySize;\nString[] groupsRequestedArray = groupsRequested.split(\&quot;;\&quot;);\n\nif (groupsRequested != \&quot;\&quot;) {\n    groupsRequestedArraySize = groupsRequestedArray.length;\n} else {\n    groupsRequestedArraySize = 0;\n}\n\nint groupCounter = Integer.valueOf(\&quot;#variable.groupCounter#\&quot;);\n\n\nLogUtil.info(\&quot;Value of groupCounter             : \&quot;, \&quot;\&quot; + groupCounter);\nLogUtil.info(\&quot;Value of groupsRequested          : \&quot;, groupsRequested);\nLogUtil.info(\&quot;Value of groupsRequestedArray     : \&quot;, Arrays.toString(groupsRequestedArray));\nLogUtil.info(\&quot;Value of groupsRequestedArraySize : \&quot;, \&quot;\&quot; + groupsRequestedArraySize);\nLogUtil.info(\&quot;Value of activityId               : \&quot;, \&quot;#assignment.activityId#\&quot;);\nLogUtil.info(\&quot;Value of workflowAssignment       : \&quot;, workflowAssignment.toString());\n\nif (groupCounter &gt;= groupsRequestedArraySize ) {\n    LogUtil.info(\&quot;Value of Transition             : \&quot;, \&quot;noGroupUpdate\&quot;);\n} else {\n    LogUtil.info(\&quot;Value of Transition             : \&quot;, \&quot;groupUpdate\&quot;);\n    groupCounter ++;\n    LogUtil.info(\&quot;Value of groupCounter             : \&quot;, \&quot;\&quot; + groupCounter);\n}\n&quot;}}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::EmailApproved</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>EmailApproved</activityDefId>
                  <pluginName>org.joget.apps.app.lib.EmailTool</pluginName>
                  <pluginProperties>{&quot;cc&quot;:&quot;&quot;,&quot;toSpecific&quot;:&quot;#form.account_signup.email#&quot;,&quot;bcc&quot;:&quot;&quot;,&quot;icsAttachement&quot;:&quot;&quot;,&quot;subject&quot;:&quot;Your signup has been Approved&quot;,&quot;formDefId&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;toParticipantId&quot;:&quot;&quot;,&quot;message&quot;:&quot;Hi #form.account_signup.FirstName#\n\nYour signup has been approved with username &apos;#form.account_signup.username#&apos; for the instance #request.scheme#://#request.serverName#:#request.serverPort##request.contextPath#.\n\nThank you for signing up.\n\nAdministrator\n\n\nThis is a computer generated email.&quot;,&quot;p12&quot;:&quot;&quot;,&quot;security&quot;:&quot;&quot;,&quot;password&quot;:&quot;&quot;,&quot;storepass&quot;:&quot;&quot;,&quot;port&quot;:&quot;&quot;,&quot;isHtml&quot;:&quot;&quot;,&quot;host&quot;:&quot;&quot;,&quot;files&quot;:[],&quot;alias&quot;:&quot;&quot;,&quot;from&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;fields&quot;:[],&quot;username&quot;:&quot;&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::EmailRejected</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>EmailRejected</activityDefId>
                  <pluginName>org.joget.apps.app.lib.EmailTool</pluginName>
                  <pluginProperties>{&quot;cc&quot;:&quot;&quot;,&quot;toSpecific&quot;:&quot;#form.account_signup.email#&quot;,&quot;bcc&quot;:&quot;&quot;,&quot;icsAttachement&quot;:&quot;&quot;,&quot;subject&quot;:&quot;Your signup has been rejected&quot;,&quot;formDefId&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;toParticipantId&quot;:&quot;&quot;,&quot;message&quot;:&quot;Hi #form.account_signup.FirstName#\n\nYour signup has been rejected with username &apos;#form.account_signup_ppi.username#&apos; with reason &apos;#form.account_signup.Remarks#&apos;.\n\nAdministrator\n\n\n\nThis is a computer generated email.&quot;,&quot;p12&quot;:&quot;&quot;,&quot;security&quot;:&quot;&quot;,&quot;password&quot;:&quot;&quot;,&quot;storepass&quot;:&quot;&quot;,&quot;port&quot;:&quot;&quot;,&quot;isHtml&quot;:&quot;&quot;,&quot;host&quot;:&quot;&quot;,&quot;files&quot;:[],&quot;alias&quot;:&quot;&quot;,&quot;from&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;fields&quot;:[],&quot;username&quot;:&quot;&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::EmailApprover</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>EmailApprover</activityDefId>
                  <pluginName>org.joget.apps.app.lib.EmailTool</pluginName>
                  <pluginProperties>{&quot;cc&quot;:&quot;&quot;,&quot;toSpecific&quot;:&quot;&quot;,&quot;bcc&quot;:&quot;&quot;,&quot;icsAttachement&quot;:&quot;&quot;,&quot;subject&quot;:&quot;A new user has signed up and needs your approval&quot;,&quot;formDefId&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;toParticipantId&quot;:&quot;Approver&quot;,&quot;message&quot;:&quot;Hi admin\n\nA new user &apos;#form.account_signup.username#&apos; has signed up and needs your approval.\n\nClick &lt;a href=\&quot;#envVariable.URL#\&quot;&gt;here&lt;\/a&gt; to approve/reject this request.\n\nThis is a computer generated email.&quot;,&quot;p12&quot;:&quot;&quot;,&quot;security&quot;:&quot;&quot;,&quot;password&quot;:&quot;&quot;,&quot;storepass&quot;:&quot;&quot;,&quot;port&quot;:&quot;&quot;,&quot;isHtml&quot;:&quot;&quot;,&quot;host&quot;:&quot;&quot;,&quot;files&quot;:[],&quot;alias&quot;:&quot;&quot;,&quot;from&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;fields&quot;:[],&quot;username&quot;:&quot;&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>signup::groupUpdateRequired</string>
               <packageActivityPlugin>
                  <processDefId>signup</processDefId>
                  <activityDefId>groupUpdateRequired</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellDecisionPlugin</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.DecisionResult;\nimport org.joget.commons.util.LogUtil;\nimport org.joget.workflow.model.service.*;\n\n\n//Transition Name to go to\nString groupsRequested = \&quot;#form.account_signup.groupsRequested#\&quot;;\nint groupsRequestedArraySize;\nString[] groupsRequestedArray = groupsRequested.split(\&quot;;\&quot;);\n\nif (groupsRequested != \&quot;\&quot;) {\n    groupsRequestedArraySize = groupsRequestedArray.length;\n} else {\n    groupsRequestedArraySize = 0;\n}\n\nint groupCounter = Integer.valueOf(\&quot;#variable.groupCounter#\&quot;);\n\n\nLogUtil.info(\&quot;Value of groupCounter             : \&quot;, \&quot;\&quot; + groupCounter);\nLogUtil.info(\&quot;Value of groupsRequested          : \&quot;, groupsRequested);\nLogUtil.info(\&quot;Value of groupsRequestedArray     : \&quot;, Arrays.toString(groupsRequestedArray));\nLogUtil.info(\&quot;Value of groupsRequestedArraySize : \&quot;, \&quot;\&quot; + groupsRequestedArraySize);\n\n\nDecisionResult result = new DecisionResult();\n \n/* Bean Shell Decision supports hash variable, and has access to the process instance context. */\n/* System.out.println(\&quot;Value of \\&apos;status\\&apos; wf-var in this process instance is: \&quot; + \&quot;#variable.status#\&quot;); */\n\n\nif (groupCounter &gt;= groupsRequestedArraySize ) {\n    result.addTransition(\&quot;noGroupUpdate\&quot;);\n    LogUtil.info(\&quot;Value of Transition             : \&quot;, \&quot;noGroupUpdate\&quot;);\n    \n} else {\n    result.addTransition(\&quot;groupUpdate\&quot;);\n    LogUtil.info(\&quot;Value of Transition             : \&quot;, \&quot;groupUpdate\&quot;);\n}\n \n/* For use cases requiring multiple node routing, do set boolean below as true. */\n//result.setIsAndSplit(true);\n \nreturn result;&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
         </packageActivityPluginMap>
         <packageParticipantMap>
            <entry>
               <string>signup::signup_anonomyous</string>
               <packageParticipant>
                  <processDefId>signup</processDefId>
                  <participantId>signup_anonomyous</participantId>
                  <type>plugin</type>
                  <value>org.joget.apps.app.lib.BeanShellTool</value>
                  <pluginProperties>{&quot;script&quot;:&quot;import java.util.ArrayList;\nArrayList users = new ArrayList();\nusers.add(\&quot;roleAnonymous\&quot;);\nreturn users;&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>signup::Approver</string>
               <packageParticipant>
                  <processDefId>signup</processDefId>
                  <participantId>Approver</participantId>
                  <type>user</type>
                  <value>wiemann.thomas</value>
               </packageParticipant>
            </entry>
         </packageParticipantMap>
      </packageDefinition>
   </packageDefinitionList>
   <formDefinitionList/>
   <userviewDefinitionList/>
   <datalistDefinitionList/>
   <builderDefinitionList/>
   <pluginDefaultPropertiesList/>
   <environmentVariableList/>
   <messageList/>
   <resourceList>
      <appResource>
         <id>user-account-login-icon.png</id>
         <appId>AccCreation</appId>
         <appVersion>2</appVersion>
         <filesize>3978</filesize>
         <permissionProperties>{&quot;permission&quot;: { &quot;className&quot;: &quot;&quot;, &quot;properties&quot;: {}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>user-account-login-icon.svg</id>
         <appId>AccCreation</appId>
         <appVersion>2</appVersion>
         <filesize>2085</filesize>
         <permissionProperties>{&quot;hashvariable&quot;:&quot;#appResource.user-account-login-icon.svg#&quot;,&quot;permission&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}}}</permissionProperties>
      </appResource>
   </resourceList>
   <license>pHWYEXz7oylFy8pxP6yrjSGqO0G4h/ey1Ki24yETEJyv38yletVy8fKWdtQS9XX9ROBcrWdKG0c=</license>
   <description>Version 2 Account Creation App with Groups</description>
</appDefinition>